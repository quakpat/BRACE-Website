<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="$BRACE - A Solana meme token inspired by Wesley, the brace-wearing Golden Retriever">
    <title>$BRACE - Brace Dog</title>
    
    <!-- Tailwind CSS via CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Custom styles -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        
        :root {
            --primary: #8d6748;
            --secondary: #d5bf9b;
            --accent: #bfa58a;
        }

        body {
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth;
        }

        .glass-effect {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }

        .gradient-text {
            background: linear-gradient(45deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
    </style>
    <script src="https://terminal.jup.ag/main-v2.js"></script>
</head>
<body class="bg-gradient-to-b from-[#d5bf9b] to-[#f9f4f0] min-h-screen">
    <!-- Content Sections -->
    <div class="container mx-auto px-4 py-8">
        <div id="jupiter-terminal-container" class="w-full max-w-2xl mx-auto">
            <div id="jupiter-terminal"></div>
        </div>
    </div>

    <!-- Script placed at the end of the body -->
    <script>
        // Initialize Jupiter Terminal
        document.addEventListener("DOMContentLoaded", function() {
            const terminalContainer = document.getElementById('jupiter-terminal');

            if (!terminalContainer) {
                console.error('Jupiter terminal container not found.');
                return;
            }

            try {
                window.Jupiter.init({
                    displayMode: 'integrated',
                    integratedTargetId: 'jupiter-terminal',
                    defaultExplorer: 'Solscan',
                    defaultPair: {
                        fromMint: 'So11111111111111111111111111111111111111112', // SOL
                        toMint: 'gpG5yhHYMojSkTaecXW2tjAL7X5gL3Jz3A66jHEpump'  // BRACE
                    },
                    containerStyles: {
                        width: '100%',
                        height: '600px',
                        border: '1px solid #E5E7EB',
                        borderRadius: '16px',
                    }
                });
                console.log('Jupiter terminal initialized successfully.');
            } catch (error) {
                console.error('Failed to initialize Jupiter terminal:', error);
            }
        });

        // Wallet connection logic
        document.addEventListener("DOMContentLoaded", function() {
            const connectWalletButton = document.getElementById('connect-wallet');
            if (!connectWalletButton) return;

            connectWalletButton.addEventListener('click', async function() {
                try {
                    const { solana } = window;

                    if (!solana?.isPhantom) {
                        alert('Please install Phantom wallet!');
                        return;
                    }

                    const response = await solana.connect();
                    const publicKey = response.publicKey.toString();
                    console.log('Connected with Public Key:', publicKey);

                    document.getElementById('wallet-status').textContent = 
                        'Connected: ' + publicKey.slice(0, 4) + '...' + publicKey.slice(-4);
                } catch (err) {
                    console.error('Wallet connection failed:', err);
                    alert('Failed to connect wallet: ' + err.message);
                }
            });
        });
    </script>
</body>
</html>
